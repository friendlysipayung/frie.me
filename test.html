<html>
<body>
  <div id="result">
  
  </div>
  <script>
    
//     var root = 'http://178.128.50.174:81/';
//     var output = document.getElementById('output');
//     output.innerHTML = '';
    
//     function insertReply(content) {
//         document.getElementById('output').innerHTML = content;
//     }

//     // create script element
//     var script = document.createElement('script');
//     // assing src with callback name
//     script.src = 'http://178.128.50.174:81/?callback=insertReply';
//     // insert script to document and load content
//     document.body.appendChild(script);
    
    var getJSON = function(url) {
      return new Promise(function(resolve, reject) {
        var xhr = new XMLHttpRequest();
        xhr.open('get', url, true);
        xhr.responseType = 'json';
        xhr.onload = function() {
          var status = xhr.status;
          if (status == 200) {
            resolve(xhr.response);
          } else {
            reject(status);
          }
        };
        xhr.send();
      });
    };

    getJSON('http://178.128.50.174:81/').then(function(data) {
        //alert('Your Json result is:  ' + data.result); //you can comment this, i used it to debug
        msg =  "========================================================"+ "\n";
        msg += "Port 1111"+"\n";
        msg += "Uptime = " + data.uptime + "\n";
        msg += "Hash Rate" + "\n";
        msg += "\t" + " 1 menit  = " + data.hashrate.total[0] + "\n";
        msg += "\t" + "10 menit  = " + data.hashrate.total[1] + "\n";
        msg += "\t" + " 1 jam    = " + data.hashrate.total[2] + "\n";
        msg += "\t" + "12 jam    = " + data.hashrate.total[3] + "\n";
        msg += "\t" + "24 jam    = " + data.hashrate.total[4] + "\n";
        msg += "\t" + "Rata-rata = " + data.hashrate.total[5] + "\n";
        msg += "-------------------------------------------------------"+ "\n";
        msg += "Miners " + "\n";
        msg += "\t" + "Now  = " + data.miners.now + "\n";
        msg += "\t" + "Now  = " + data.miners.max + "\n";
        msg += "-------------------------------------------------------"+ "\n";
        msg += "Status = " + data.results.accepted +" / " + data.results.rejected +" / " + data.results.invalid +" / " + data.results.expired +" " + "\n";
      
        result.innerHTML = msg; //display the result in an HTML element
    }, function(status) { //error detection....
      alert('Something went wrong.');
    });
 
    getJSON('http://178.128.50.174:82/').then(function(data) {
        //alert('Your Json result is:  ' + data.result); //you can comment this, i used it to debug
        msg =  "========================================================"+ "\n";
        msg += "Port 3333"+"\n";
        msg += "Uptime = " + data.uptime + "\n";
        msg += "Hash Rate" + "\n";
        msg += "\t" + " 1 menit  = " + data.hashrate.total[0] + "\n";
        msg += "\t" + "10 menit  = " + data.hashrate.total[1] + "\n";
        msg += "\t" + " 1 jam    = " + data.hashrate.total[2] + "\n";
        msg += "\t" + "12 jam    = " + data.hashrate.total[3] + "\n";
        msg += "\t" + "24 jam    = " + data.hashrate.total[4] + "\n";
        msg += "\t" + "Rata-rata = " + data.hashrate.total[5] + "\n";
        msg += "-------------------------------------------------------"+ "\n";
        msg += "Miners " + "\n";
        msg += "\t" + "Now  = " + data.miners.now + "\n";
        msg += "\t" + "Now  = " + data.miners.max + "\n";
        msg += "-------------------------------------------------------"+ "\n";
        msg += "Status = " + data.results.accepted +" / " + data.results.rejected +" / " + data.results.invalid +" / " + data.results.expired +" " + "\n";
      
        result.innerHTML = msg; //display the result in an HTML element
    }, function(status) { //error detection....
      alert('Something went wrong.');
    });
    
    
  </script>
</body>
</html>
